"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getItem=getItem;exports.setItem=setItem;exports.removeItem=removeItem;exports.getAllKeys=getAllKeys;exports.isAvailable=void 0;var _once2=_interopRequireDefault(require("lodash/once"));var _keys2=_interopRequireDefault(require("lodash/keys"));var _merge2=_interopRequireDefault(require("lodash/merge"));var _uniq2=_interopRequireDefault(require("lodash/uniq"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var isAvailable=(0,_once2["default"])(function(){try{var key="__TEST__";localStorage.setItem(key,key);localStorage.getItem(key,key);localStorage.removeItem(key);return true}catch(e){return false}});exports.isAvailable=isAvailable;function getItem(key){return localStorage.getItem(key)||sessionStorage.getItem(key)}function setItem(key,value){var _ref=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref$persist=_ref.persist,persist=_ref$persist===void 0?true:_ref$persist,_ref$allowFalsey=_ref.allowFalsey,allowFalsey=_ref$allowFalsey===void 0?false:_ref$allowFalsey;if(!allowFalsey&&!value)return removeItem(key);return persist?localStorage.setItem(key,value):sessionStorage.setItem(key,value)}function removeItem(key){localStorage.removeItem(key);sessionStorage.removeItem(key)}function getAllKeys(){return(0,_uniq2["default"])((0,_merge2["default"])((0,_keys2["default"])(localStorage),(0,_keys2["default"])(sessionStorage)))}